<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 
    SQL File Name  : biz_UsrMgmtDAO.xml
    Description    : 설명을 기술합니다.
    author         : 안경수
    since          : 2023.1.19
-->

<mapper namespace="com.oms.dao.UsrMgmtDAO">
   
   <!--
        Query Name  : com.oms.dao.UsrMgmtDAO.selectUsrMgmt
        Description : 
    --> 
    <select id="com.oms.dao.UsrMgmtDAO.selectUsrMgmt" parameterType="usrMgmtReqDTO" resultType="usrMgmtResDTO">
        <![CDATA[
        /*  QueryID=com.oms.dao.UsrMgmtDAO.selectUsrMgmt */
        
            SELECT 
                   user_eeno    AS userEeno,
                   user_pw       AS userPw,
                   user_nm      AS userNm,
                   blns_co_cd   AS blnsCoCd,
                   user_dcd     AS userDcd,
                   user_eml_adr AS userEmlAdr,
                   use_yn       AS useYn,
                   pprr_eeno    AS pprrEeno,
                   fram_dtm     AS framDtm,
                   updr_eeno    AS updrEeno,
                   mdfy_dtm     AS mdfyDtm,
                   pw_altr_dtm  AS pwAltrDtm,
                   fin_lgi_dtm  AS finLgiDtm,
                   pw_lock_dtm  AS pwLockDtm,
                   pw_err_oft   AS pwErrOft,
                   user_chg_pw  AS userChgPw,
                   grp_cd       AS grpCd,
                   user_oset_lgi AS userOsetLgi,
                   use_gbn      AS useGbn
              FROM tb_usr_mgmt
             WHERE user_eeno = #{userEeno}
        ]]>
    </select>

    <!--
        Query Name  : com.oms.dao.UsrMgmtDAO.selectUsrMgmtList
        Description : 
    --> 
    <select id="com.oms.dao.UsrMgmtDAO.selectUsrMgmtList" parameterType="usrMgmtReqDTO"  resultType="usrMgmtResDTO">
        <![CDATA[
        /*  QueryID=com.oms.dao.UsrMgmtDAO.selectUsrMgmtList */
        SELECT 
              user_eeno    AS userEeno,
              user_pw       AS userPw,
               user_nm      AS userNm,
               blns_co_cd   AS blnsCoCd,
               user_dcd     AS userDcd,
               user_eml_adr AS userEmlAdr,
               use_yn       AS useYn,
               pprr_eeno    AS pprrEeno,
               fram_dtm     AS framDtm,
               updr_eeno    AS updrEeno,
               mdfy_dtm     AS mdfyDtm,
               pw_altr_dtm  AS pwAltrDtm,
               fin_lgi_dtm  AS finLgiDtm,
               pw_lock_dtm  AS pwLockDtm,
               pw_err_oft   AS pwErrOft,
               user_chg_pw  AS userChgPw,
               grp_cd       AS grpCd,
               user_oset_lgi AS userOsetLgi,
               use_gbn      AS useGbn
          FROM tb_usr_mgmt
           ]]>
        <trim prefix="ORDER BY">
            <if test="orderBy != null and orderBy != ''"> 
                 ${orderBy} 
            </if>
        </trim>
        <trim prefix="LIMIT">
            <if test="pageNo != null and pageNo != '' and pageSize != null and pageSize != ''"> 
                 #{pageNo}, #{pageSize} 
            </if>
        </trim>
       
    </select>
    
    
    <!--
        Query Name  : com.oms.dao.UsrMgmtDAO.insertUsrMgmt
        Description : 
    -->
    <insert id="com.oms.dao.UsrMgmtDAO.insertUsrMgmt" parameterType="usrMgmtReqDTO">
        <![CDATA[
            INSERT /* QueryID=com.oms.UsrMgmtDAO.insertUsrMgmt */ 
              INTO tb_usr_mgmt
                   (user_eeno,
                   user_pw,
                   user_nm,
                   blns_co_cd,
                   user_dcd,
                   user_eml_adr,
                   use_yn,
                   pprr_eeno,
                   fram_dtm,
                   updr_eeno,
                   mdfy_dtm,
                   pw_altr_dtm,
                   fin_lgi_dtm,
                   pw_lock_dtm,
                   pw_err_oft,
                   user_chg_pw,
                   grp_cd,
                   user_oset_lgi,
                   use_gbn)
            VALUES (#{userEeno},
                   #{userPw},
                   #{userNm},
                   #{blnsCoCd},
                   #{userDcd},
                   #{userEmlAdr},
                   #{useYn},
                   #{pprrEeno},
                   #{framDtm},
                   #{updrEeno},
                   #{mdfyDtm},
                   #{pwAltrDtm},
                   #{finLgiDtm},
                   #{pwLockDtm},
                   #{pwErrOft},
                   #{userChgPw},
                   #{grpCd},
                   #{userOsetLgi},
                   #{useGbn})
        ]]>
    </insert>


    <!--
        Query Name  : com.oms.dao.UsrMgmtDAO.updateUsrMgmt
        Description : 
    -->    
    <update id="com.oms.dao.UsrMgmtDAO.updateUsrMgmt" parameterType="usrMgmtReqDTO">
        <![CDATA[
        /* QueryID=com.oms.dao.UsrMgmtDAO.updateUsrMgmt */
            UPDATE 
                   tb_usr_mgmt
               SET user_pw = #{userPw},
                   user_nm = #{userNm},
                   blns_co_cd = #{blnsCoCd},
                   user_dcd = #{userDcd},
                   user_eml_adr = #{userEmlAdr},
                   use_yn = #{useYn},
                   pprr_eeno = #{pprrEeno},
                   fram_dtm = #{framDtm},
                   updr_eeno = #{updrEeno},
                   mdfy_dtm = #{mdfyDtm},
                   pw_altr_dtm = #{pwAltrDtm},
                   fin_lgi_dtm = #{finLgiDtm},
                   pw_lock_dtm = #{pwLockDtm},
                   pw_err_oft = #{pwErrOft},
                   user_chg_pw = #{userChgPw},
                   grp_cd = #{grpCd},
                   user_oset_lgi = #{userOsetLgi},
                   use_gbn = #{useGbn}
             WHERE user_eeno = #{userEeno}
        ]]>
    </update>

    <!--
        Query Name  : com.oms.UsrMgmtDAO.deleteUsrMgmt
        Description : 
    -->   
    <delete id="com.oms.dao.UsrMgmtDAO.deleteUsrMgmt" parameterType="String">
        <![CDATA[
        /* QueryID=com.oms.dao.UsrMgmtDAO.deleteUsrMgmt */ 
            DELETE 
              FROM tb_usr_mgmt
             WHERE user_eeno = #{userEeno}
        ]]>
    </delete>

</mapper>

